# Even/Odd League Player Agent Configuration
# ============================================
# This file contains all configurable parameters for the Player Agent.
# Values can be overridden by environment variables in .env

# Player Identity
# ---------------
player:
  id: "P01"  # Player identifier (P01-P99)
  display_name: "Gemini Agent"  # Display name in league
  description: "AI agent powered by Gemini for Even/Odd League"

# Strategy Configuration
# ----------------------
strategy:
  mode: "hybrid"  # Options: random, llm, hybrid

  # Random Strategy Settings
  random:
    enabled: true
    description: "Fast and reliable baseline"

  # LLM Strategy Settings (Gemini)
  llm:
    enabled: true
    model_id: "gemini-2.0-flash-exp"  # FREE TIER model
    temperature: 0.7  # 0.0 (deterministic) to 1.0 (creative)
    max_tokens: 100  # Max response length
    timeout_seconds: 25  # Must be < 30s (5s buffer)

    # System prompt for Gemini
    system_prompt: |
      You are an AI agent playing the Even/Odd game.

      Game Rules:
      - Two players simultaneously choose "even" or "odd"
      - Referee draws a random number from 1-10
      - You win if: number parity matches your choice
      - Scoring: Win=3pts, Draw=1pt, Loss=0pts

      CRITICAL REQUIREMENTS:
      - Your response MUST be lowercase: "even" or "odd" (NEVER "Even" or "ODD")
      - Consider game context, opponent patterns, standings
      - Provide brief reasoning for your choice

      Remember: This is a pure luck game. Your strategy won't improve win rate,
      but interesting reasoning makes for better documentation!

# League Connection
# -----------------
league:
  manager:
    host: "localhost"
    port: 8000
    protocol: "league.v2"

  # Player agent server
  agent:
    host: "localhost"
    port: 8101  # Can be 8101-8104
    title: "Player Agent MCP Server"
    version: "1.0.0"

# Protocol Timeouts (seconds)
# ---------------------------
timeouts:
  game_invitation_response: 5  # GAME_JOIN_ACK must be sent within 5s
  parity_choice_response: 30   # CHOOSE_PARITY_RESPONSE must be sent within 30s
  match_result_ack: 10         # Result acknowledgment within 10s

  # HTTP client timeouts
  http_connect: 5
  http_read: 30

# Logging Configuration
# ---------------------
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "json"  # json or text

  # JSON logging fields
  json_format:
    timestamp: true
    level: true
    agent_id: true
    message: true
    context: true

  # Log file rotation
  file:
    enabled: true
    path: "./logs/player.log"
    max_size_mb: 10
    backup_count: 5

# State Management
# ----------------
state:
  # Track game statistics
  track_stats: true

  # Match history settings
  history:
    enabled: true
    max_entries: 100  # Keep last 100 matches
    save_to_file: true
    file_path: "./data/match_history.json"

  # Persistence
  persistence:
    enabled: false  # Set to true to persist state between restarts
    file_path: "./data/player_state.json"
    auto_save_interval_seconds: 60

# Performance & Reliability
# --------------------------
performance:
  # Async settings
  async_timeout: 30
  max_concurrent_requests: 10

  # Retry logic for network failures
  retry:
    enabled: true
    max_attempts: 3
    backoff_factor: 1.5  # Exponential backoff

  # Health check
  health_check:
    enabled: true
    interval_seconds: 60

# Feature Flags
# -------------
features:
  enable_detailed_logging: true
  enable_performance_metrics: true
  enable_strategy_analysis: true
  enable_auto_registration: true  # Auto-register with League Manager on startup

# Development & Debug
# -------------------
development:
  debug_mode: false  # Enable for verbose debugging
  mock_llm_responses: false  # Use mock responses instead of real LLM
  save_all_messages: false  # Save all JSON-RPC messages to file
  simulate_delays: false  # Simulate network delays for testing
